{"instruction": "Generate an OQL query to find all String objects", "input": "", "output": "select s from java.lang.String s"}
{"instruction": "Generate an OQL query to find all strings longer than 1000 characters", "input": "", "output": "select s from java.lang.String s where s.value.length > 1000"}
{"instruction": "Generate an OQL query to find strings containing the word 'error'", "input": "", "output": "select s from java.lang.String s where s.toString().contains(\"error\")"}
{"instruction": "Generate an OQL query to find all HashMap instances", "input": "", "output": "select h from java.util.HashMap h"}
{"instruction": "Generate an OQL query to find all Map implementations including subclasses", "input": "", "output": "select m from instanceof java.util.Map m"}
{"instruction": "Generate an OQL query to find HashMaps with more than 100 entries", "input": "", "output": "select h from java.util.HashMap h where h.size > 100"}
{"instruction": "Generate an OQL query to find all byte arrays", "input": "", "output": "select b from byte[] b"}
{"instruction": "Generate an OQL query to find byte arrays larger than 1MB", "input": "", "output": "select b from byte[] b where b.length > 1048576"}
{"instruction": "Generate an OQL query to find all char arrays", "input": "", "output": "select c from char[] c"}
{"instruction": "Generate an OQL query to find all Object arrays", "input": "", "output": "select a from java.lang.Object[] a"}
{"instruction": "Generate an OQL query to find all ArrayList instances", "input": "", "output": "select a from java.util.ArrayList a"}
{"instruction": "Generate an OQL query to find ArrayLists with more than 1000 elements", "input": "", "output": "select a from java.util.ArrayList a where a.size > 1000"}
{"instruction": "Generate an OQL query to find all List implementations", "input": "", "output": "select l from instanceof java.util.List l"}
{"instruction": "Generate an OQL query to find all Thread objects", "input": "", "output": "select t from java.lang.Thread t"}
{"instruction": "Generate an OQL query to find daemon threads", "input": "", "output": "select t from java.lang.Thread t where t.daemon == true"}
{"instruction": "Generate an OQL query to find threads with name containing 'pool'", "input": "", "output": "select t from java.lang.Thread t where t.name.toString().contains(\"pool\")"}
{"instruction": "Generate an OQL query to find all ClassLoader instances", "input": "", "output": "select cl from instanceof java.lang.ClassLoader cl"}
{"instruction": "Generate an OQL query to find all Exception objects", "input": "", "output": "select e from instanceof java.lang.Exception e"}
{"instruction": "Generate an OQL query to find all Throwable objects", "input": "", "output": "select t from instanceof java.lang.Throwable t"}
{"instruction": "Generate an OQL query to find all File objects", "input": "", "output": "select f from java.io.File f"}
{"instruction": "Generate an OQL query to find all URL objects", "input": "", "output": "select u from java.net.URL u"}
{"instruction": "Generate an OQL query to find all Socket objects", "input": "", "output": "select s from java.net.Socket s"}
{"instruction": "Generate an OQL query to find all ThreadPoolExecutor instances", "input": "", "output": "select t from java.util.concurrent.ThreadPoolExecutor t"}
{"instruction": "Generate an OQL query to find all CompletableFuture instances", "input": "", "output": "select f from java.util.concurrent.CompletableFuture f"}
{"instruction": "Generate an OQL query to find all ReentrantLock instances", "input": "", "output": "select l from java.util.concurrent.locks.ReentrantLock l"}
{"instruction": "Generate an OQL query to find all ByteBuffer instances", "input": "", "output": "select b from java.nio.ByteBuffer b"}
{"instruction": "Generate an OQL query to find all DirectByteBuffer instances", "input": "", "output": "select b from java.nio.DirectByteBuffer b"}
{"instruction": "Generate an OQL query to find int arrays", "input": "", "output": "select a from int[] a"}
{"instruction": "Generate an OQL query to find long arrays", "input": "", "output": "select a from long[] a"}
{"instruction": "Generate an OQL query to find double arrays", "input": "", "output": "select a from double[] a"}
{"instruction": "Generate an OQL query to find all WeakReference objects", "input": "", "output": "select r from java.lang.ref.WeakReference r"}
{"instruction": "Generate an OQL query to find all SoftReference objects", "input": "", "output": "select r from java.lang.ref.SoftReference r"}
{"instruction": "Generate an OQL query to find strings starting with 'http'", "input": "", "output": "select s from java.lang.String s where s.toString().startsWith(\"http\")"}
{"instruction": "Generate an OQL query to find strings ending with '.xml'", "input": "", "output": "select s from java.lang.String s where s.toString().endsWith(\".xml\")"}
{"instruction": "Generate an OQL query to find strings matching a regex pattern", "input": "", "output": "select s from java.lang.String s where /.*@.*/.test(s.toString())"}
{"instruction": "Generate an OQL query to find empty ArrayLists", "input": "", "output": "select a from java.util.ArrayList a where a.size == 0"}
{"instruction": "Generate an OQL query to find empty HashMaps", "input": "", "output": "select h from java.util.HashMap h where h.size == 0"}
{"instruction": "Generate an OQL query to find large collections indicating memory leak", "input": "", "output": "select c from instanceof java.util.Collection c where c.size > 10000"}
{"instruction": "Use sizeof to get shallow size of an object", "input": "", "output": "select sizeof(s) from java.lang.String s"}
{"instruction": "Use sizeof to find large strings by size", "input": "", "output": "select s from java.lang.String s where sizeof(s) > 1000"}
{"instruction": "Use rsizeof to get retained size of an object", "input": "", "output": "select rsizeof(s) from java.lang.String s"}
{"instruction": "Use classof to get class of objects", "input": "", "output": "select classof(o) from instanceof java.lang.Object o"}
{"instruction": "Use classof to get class name", "input": "", "output": "select classof(o).name from instanceof java.lang.Object o"}
{"instruction": "Use objectid to get object ID", "input": "", "output": "select objectid(s) from java.lang.String s"}
{"instruction": "Use referrers to find who references an object", "input": "", "output": "select referrers(s) from java.lang.String s"}
{"instruction": "Count referrers for each object", "input": "", "output": "select {obj: s, count: count(referrers(s))} from java.lang.String s"}
{"instruction": "Use referees to find what an object references", "input": "", "output": "select referees(h) from java.util.HashMap h"}
{"instruction": "Use reachables to find all transitively reachable objects", "input": "", "output": "select reachables(p) from java.util.Properties p"}
{"instruction": "Use reachables with excluded fields", "input": "", "output": "select reachables(u, 'java.net.URL.handler') from java.net.URL u"}
{"instruction": "Use refers to check if object refers to another", "input": "", "output": "select refers(o1, o2) from java.lang.Object o1"}
{"instruction": "Use root to check if object is GC root", "input": "", "output": "select root(o) from instanceof java.lang.Object o"}
{"instruction": "Use identical to compare object identity", "input": "", "output": "select identical(heap.findClass(\"Foo\").statics.bar, heap.findClass(\"Bar\").statics.baz)"}
{"instruction": "Use allocTrace to get allocation trace", "input": "", "output": "select allocTrace(o) from instanceof java.lang.Object o"}
{"instruction": "Use toHtml for HTML representation", "input": "", "output": "select toHtml(s) from java.lang.String s"}
{"instruction": "Use heap.findClass to find a specific class", "input": "", "output": "select heap.findClass(\"java.lang.String\")"}
{"instruction": "Get fields of a class using heap.findClass", "input": "", "output": "select heap.findClass(\"java.lang.String\").fields"}
{"instruction": "Get field count of a class", "input": "", "output": "select heap.findClass(\"java.lang.String\").fields.length"}
{"instruction": "Use heap.findObject to find object by ID", "input": "", "output": "select heap.findObject(\"0xf3800b58\")"}
{"instruction": "Use heap.objects to get all instances of a class", "input": "", "output": "select heap.objects('java.lang.String')"}
{"instruction": "Use heap.objects with filter", "input": "", "output": "select heap.objects('java.lang.String', true, 'it.value.length > 100')"}
{"instruction": "Use heap.classes to get all classes", "input": "", "output": "select heap.classes()"}
{"instruction": "Filter classes by name pattern", "input": "", "output": "select filter(heap.classes(), \"/java.net./.test(it.name)\")"}
{"instruction": "Use heap.roots to get GC roots", "input": "", "output": "select heap.roots()"}
{"instruction": "Use heap.finalizables to get pending finalization objects", "input": "", "output": "select heap.finalizables()"}
{"instruction": "Use heap.livepaths to get paths keeping object alive", "input": "", "output": "select heap.livepaths(s) from java.lang.String s"}
{"instruction": "Use heap.livepaths including weak references", "input": "", "output": "select heap.livepaths(s, true) from java.lang.String s"}
{"instruction": "Use heap.forEachClass with callback", "input": "", "output": "heap.forEachClass(function(c) { print(c.name); })"}
{"instruction": "Use heap.forEachObject with callback", "input": "", "output": "heap.forEachObject(function(o) { print(sizeof(o)); }, 'java.lang.String')"}
{"instruction": "Use filter function to filter results", "input": "", "output": "select filter(heap.objects('java.lang.String'), 'it.value.length > 100')"}
{"instruction": "Use map function to transform results", "input": "", "output": "select map(heap.objects('java.lang.String'), '{str: it, len: it.value.length}')"}
{"instruction": "Use sort function to sort results", "input": "", "output": "select sort(heap.objects('java.lang.String'), 'sizeof(lhs) - sizeof(rhs)')"}
{"instruction": "Use sort descending", "input": "", "output": "select sort(heap.objects('java.lang.String'), 'sizeof(rhs) - sizeof(lhs)')"}
{"instruction": "Use count function", "input": "", "output": "select count(heap.objects('java.lang.String'))"}
{"instruction": "Use count with filter expression", "input": "", "output": "select count(heap.objects('java.lang.String'), 'it.value.length > 100')"}
{"instruction": "Use sum function", "input": "", "output": "select sum(heap.objects('java.lang.String'), 'sizeof(it)')"}
{"instruction": "Use sum with reachables", "input": "", "output": "select sum(reachables(p), 'sizeof(it)') from java.util.Properties p"}
{"instruction": "Use max function", "input": "", "output": "select max(heap.objects('java.lang.String'), 'lhs.value.length > rhs.value.length')"}
{"instruction": "Use min function", "input": "", "output": "select min(heap.objects('java.util.Vector'), 'lhs.elementData.length < rhs.elementData.length')"}
{"instruction": "Use top function to get top N elements", "input": "", "output": "select top(heap.objects('java.lang.String'), 'rhs.value.length - lhs.value.length', 10)"}
{"instruction": "Use toArray function", "input": "", "output": "select toArray(heap.objects('java.lang.String'))"}
{"instruction": "Use unique function to get distinct elements", "input": "", "output": "select unique(map(heap.objects('java.lang.String'), 'it.value'))"}
{"instruction": "Count unique char arrays from Strings", "input": "", "output": "select count(unique(map(heap.objects('java.lang.String'), 'it.value')))"}
{"instruction": "Use length function", "input": "", "output": "select length(heap.objects('java.lang.String'))"}
{"instruction": "Use contains function", "input": "", "output": "select contains(heap.objects('java.lang.String'), 'it.value.length > 1000')"}
{"instruction": "Use concat function to combine arrays", "input": "", "output": "select concat(heap.objects('java.lang.String'), heap.objects('java.lang.StringBuilder'))"}
{"instruction": "Return results as JSON object", "input": "", "output": "select {name: t.name.toString(), id: t.tid} from java.lang.Thread t"}
{"instruction": "Return multiple attributes as JSON", "input": "", "output": "select {str: s, size: sizeof(s), len: s.value.length} from java.lang.String s"}
{"instruction": "Complex query with filter, map and sort", "input": "", "output": "select map(sort(filter(heap.objects('java.lang.String'), 'it.value.length > 100'), 'sizeof(rhs) - sizeof(lhs)'), '{str: it, size: sizeof(it)}')"}
{"instruction": "Get class superclass", "input": "", "output": "select heap.findClass('java.util.HashMap').superclass"}
{"instruction": "Get class loader of a class", "input": "", "output": "select heap.findClass('java.lang.String').loader"}
{"instruction": "Check if class is subclass of another", "input": "", "output": "select heap.findClass('java.util.HashMap').isSubclassOf(heap.findClass('java.util.AbstractMap'))"}
{"instruction": "Get all subclasses", "input": "", "output": "select heap.findClass('java.util.AbstractMap').subclasses()"}
{"instruction": "Get all superclasses", "input": "", "output": "select heap.findClass('java.util.HashMap').superclasses()"}
{"instruction": "Get static fields of a class", "input": "", "output": "select heap.findClass('java.lang.System').statics"}
{"instruction": "Access specific static field", "input": "", "output": "select heap.findClass('java.lang.System').statics.out"}
{"instruction": "Map static fields with index", "input": "", "output": "select map(heap.findClass('java.io.File').statics, \"index + '=' + toHtml(it)\")"}
{"instruction": "Find strings with specific value", "input": "", "output": "select s from java.lang.String s where s.toString() == \"specific value\""}
{"instruction": "Find strings matching equals", "input": "", "output": "select s from java.lang.String s where s.toString().equals(\"GHT\")"}
{"instruction": "Use JavaScript regex test", "input": "", "output": "select s from java.lang.String s where /java\\.lang\\..*/.test(s.toString())"}
{"instruction": "Filter referrers by class pattern", "input": "", "output": "select filter(referrers(u), \"!/java.net./.test(classof(it).name)\") from java.net.URL u"}
{"instruction": "Get ClassLoader classes count", "input": "", "output": "select map(heap.objects('java.lang.ClassLoader'), '{loader: it, count: it.classes.elementCount}')"}
{"instruction": "Sort ClassLoaders by class count", "input": "", "output": "select sort(map(heap.objects('java.lang.ClassLoader'), '{loader: it, count: it.classes.elementCount}'), 'rhs.count - lhs.count')"}
{"instruction": "Find objects with size and shallow size", "input": "", "output": "select map(sort(heap.objects('char[]'), 'sizeof(lhs) - sizeof(rhs)'), '{size: sizeof(it), obj: it}')"}
{"instruction": "Get top 5 longest strings", "input": "", "output": "select map(top(heap.objects('java.lang.String'), 'rhs.value.length - lhs.value.length', 5), '{length: it.value.length, obj: it}')"}
{"instruction": "JavaScript variable assignment", "input": "", "output": "var strings = heap.objects('java.lang.String'); filter(strings, 'it.value.length > 100')"}
{"instruction": "Define JavaScript function for filtering", "input": "", "output": "function isLarge(s) { return s.value.length > 1000; } filter(heap.objects('java.lang.String'), isLarge)"}
{"instruction": "JavaScript iteration with for loop", "input": "", "output": "var arr = toArray(heap.objects('java.lang.String')); for(var i = 0; i < arr.length; i++) { print(arr[i].toString()); }"}
{"instruction": "Find all instances of a package", "input": "", "output": "select filter(heap.classes(), \"/com.example./.test(it.name)\")"}
{"instruction": "Find system properties", "input": "", "output": "select map(filter(heap.findClass('java.lang.System').statics.props.table, 'it != null && it.key != null'), '{key: it.key.toString(), value: it.value.toString()}')"}
{"instruction": "What is the sizeof function?", "input": "", "output": "sizeof(jobject) returns the shallow size (in bytes) of a Java object"}
{"instruction": "What is the rsizeof function?", "input": "", "output": "rsizeof(jobject) returns the retained size (in bytes) of a Java object - total size of objects that would be GC'd if this object was collected"}
{"instruction": "What is the classof function?", "input": "", "output": "classof(jobject) returns the Class object of a given Java object. The result has properties like name, superclass, fields, statics"}
{"instruction": "What is the referrers function?", "input": "", "output": "referrers(jobject) returns an enumeration of Java objects that hold reference to the given object (incoming references)"}
{"instruction": "What is the referees function?", "input": "", "output": "referees(jobject) returns an array of Java objects to which the given object directly refers (outgoing references)"}
{"instruction": "What is the reachables function?", "input": "", "output": "reachables(jobject, excludedFields) returns an array of objects transitively reachable from the given object, optionally excluding specified fields"}
{"instruction": "What is the root function?", "input": "", "output": "root(jobject) returns a Root object if the given object is a GC root, describing why it is a root (type, description)"}
{"instruction": "What is the identical function?", "input": "", "output": "identical(o1, o2) returns true if o1 and o2 are the same object (identity comparison)"}
{"instruction": "What is the objectid function?", "input": "", "output": "objectid(jobject) returns a String ID of the object that can be passed to heap.findObject() or used for identity comparison"}
{"instruction": "What is the allocTrace function?", "input": "", "output": "allocTrace(jobject) returns allocation site trace as array of frames with className, methodName, methodSignature, sourceFileName, lineNumber"}
{"instruction": "What is heap.objects?", "input": "", "output": "heap.objects(clazz, includeSubtypes, filter) returns instances of the specified class, optionally including subtypes and applying a filter"}
{"instruction": "What is heap.findClass?", "input": "", "output": "heap.findClass(className) finds a Class by name, returning object with properties: name, superclass, fields, statics, loader, subclasses(), superclasses()"}
{"instruction": "What is heap.findObject?", "input": "", "output": "heap.findObject(objectId) finds and returns a heap object by its ID string (e.g., '0xf3800b58')"}
{"instruction": "What is heap.classes?", "input": "", "output": "heap.classes() returns an enumeration of all Java classes in the heap"}
{"instruction": "What is heap.roots?", "input": "", "output": "heap.roots() returns an enumeration of GC Roots. Each Root has id (object id) and type (JNI Global, Java Static, etc.)"}
{"instruction": "What is heap.finalizables?", "input": "", "output": "heap.finalizables() returns enumeration of objects pending finalization"}
{"instruction": "What is heap.livepaths?", "input": "", "output": "heap.livepaths(object, includeWeakRefs) returns array of reference paths keeping the object alive"}
{"instruction": "What is the map function?", "input": "", "output": "map(array, expression) transforms each element using the expression. Use 'it' for current element, 'index' for position"}
{"instruction": "What is the filter function?", "input": "", "output": "filter(array, expression) returns elements where the boolean expression is true. Use 'it' for current element"}
{"instruction": "What is the sort function?", "input": "", "output": "sort(array, expression) sorts elements using comparison expression. Use 'lhs' and 'rhs' for elements being compared"}
{"instruction": "What is the top function?", "input": "", "output": "top(array, expression, n) returns top N elements. Expression compares elements using 'lhs' and 'rhs'. Default n is 10"}
{"instruction": "What is the sum function?", "input": "", "output": "sum(array, expression) sums values. Optional expression maps elements before summing. Use 'it' for current element"}
{"instruction": "What is the count function?", "input": "", "output": "count(array, expression) counts elements. Optional expression filters elements to count. Use 'it' for current element"}
{"instruction": "What is the unique function?", "input": "", "output": "unique(array) returns array with duplicate elements removed"}
{"instruction": "What is the toArray function?", "input": "", "output": "toArray(enumeration) converts an enumeration to a JavaScript array for further processing"}
{"instruction": "What is the max function?", "input": "", "output": "max(array, expression) returns maximum element. Expression compares elements using 'lhs' and 'rhs'"}
{"instruction": "What is the min function?", "input": "", "output": "min(array, expression) returns minimum element. Expression compares elements using 'lhs' and 'rhs'"}
{"instruction": "What is the length function?", "input": "", "output": "length(array) returns the number of elements in the array"}
{"instruction": "What is the contains function?", "input": "", "output": "contains(array, expression) returns true if any element matches the boolean expression"}
{"instruction": "What is the concat function?", "input": "", "output": "concat(array1, array2) concatenates two arrays into one"}
{"instruction": "What is the toHtml function?", "input": "", "output": "toHtml(object) returns an HTML string representation of the object for display"}
{"instruction": "Find Netty ByteBuf instances", "input": "", "output": "select b from instanceof io.netty.buffer.ByteBuf b"}
{"instruction": "Find Jackson ObjectMapper instances", "input": "", "output": "select o from com.fasterxml.jackson.databind.ObjectMapper o"}
{"instruction": "Find Guava Cache instances", "input": "", "output": "select c from instanceof com.google.common.cache.Cache c"}
{"instruction": "Find Spring ApplicationContext instances", "input": "", "output": "select ctx from instanceof org.springframework.context.ApplicationContext ctx"}
{"instruction": "Find Kafka Consumer instances", "input": "", "output": "select c from instanceof org.apache.kafka.clients.consumer.KafkaConsumer c"}
{"instruction": "Find gRPC Channel instances", "input": "", "output": "select ch from instanceof io.grpc.ManagedChannel ch"}
{"instruction": "Find Hibernate Session objects", "input": "", "output": "select s from instanceof org.hibernate.Session s"}
{"instruction": "Find JDBC Connection objects", "input": "", "output": "select c from instanceof java.sql.Connection c"}
{"instruction": "Get memory used by all Strings", "input": "", "output": "select sum(heap.objects('java.lang.String'), 'sizeof(it)')"}
{"instruction": "Find objects with most referrers", "input": "", "output": "select top(map(heap.objects('java.lang.Object'), '{obj: it, refs: count(referrers(it))}'), 'rhs.refs - lhs.refs', 10)"}
{"instruction": "Find largest objects by retained size", "input": "", "output": "select top(map(heap.objects('java.lang.Object'), '{obj: it, size: rsizeof(it)}'), 'rhs.size - lhs.size', 10)"}
{"instruction": "Use heap.forEachObject to iterate over all String objects", "input": "", "output": "heap.forEachObject(function(s) { print(s.toString()); }, 'java.lang.String')"}
{"instruction": "Use heap.forEachObject to find Strings longer than 100 chars", "input": "", "output": "var arr = []; heap.forEachObject(function(s) { if (s.value.length > 100) arr.push(s); }, 'java.lang.String'); arr"}
{"instruction": "Use heap.forEachObject with includeSubtypes parameter", "input": "", "output": "heap.forEachObject(function(c) { print(classof(c).name); }, 'java.util.Collection', true)"}
{"instruction": "Use heap.forEachObject to count objects", "input": "", "output": "var count = 0; heap.forEachObject(function(o) { count++; }, 'java.lang.Object'); count"}
{"instruction": "Use heap.forEachClass to iterate over all classes", "input": "", "output": "heap.forEachClass(function(c) { print(c.name); })"}
{"instruction": "Use heap.forEachClass to count classes by loader", "input": "", "output": "var loaders = {}; heap.forEachClass(function(c) { var loader = c.loader ? objectid(c.loader) : 'null'; loaders[loader] = (loaders[loader] || 0) + 1; }); loaders"}
{"instruction": "Use heap.forEachClass to find classes with specific name pattern", "input": "", "output": "var result = []; heap.forEachClass(function(c) { if (/java.util./.test(c.name)) result.push(c); }); result"}
{"instruction": "Use filter with JavaScript function instead of string expression", "input": "", "output": "select filter(heap.objects('java.lang.String'), function(s) { return s.value.length > 100; })"}
{"instruction": "Use map with JavaScript function for complex transformation", "input": "", "output": "select map(heap.objects('java.lang.String'), function(s) { return {length: s.value.length, hash: s.hash, obj: s}; })"}
{"instruction": "Use sort with JavaScript function for custom comparison", "input": "", "output": "select sort(heap.objects('java.lang.String'), function(lhs, rhs) { return lhs.value.length - rhs.value.length; })"}
{"instruction": "Access nested field in Hashtable entry", "input": "", "output": "select map(filter(heap.findClass('java.lang.System').statics.props.table, 'it != null'), 'it.key.value.toString()')"}
{"instruction": "Navigate through ClassLoader parent chain", "input": "", "output": "select map(heap.objects('java.lang.ClassLoader'), function(cl) { var chain = []; while (cl != null) { chain.push(cl); cl = cl.parent; } return chain; })"}
{"instruction": "Navigate through linked list structure", "input": "", "output": "select map(filter(heap.objects('java.util.LinkedList$Node'), 'it != null'), function(node) { var count = 0; while (node != null) { count++; node = node.next; } return count; })"}
{"instruction": "Navigate through Hashtable Entry chain", "input": "", "output": "select map(filter(heap.findClass('java.util.Hashtable').statics.table, 'it != null'), function(entry) { var items = []; while (entry != null) { items.push(entry.key); entry = entry.next; } return items; })"}
{"instruction": "Find all GC roots", "input": "", "output": "select r from heap.roots() r"}
{"instruction": "Find GC roots by type", "input": "", "output": "select r from heap.roots() r where r.type == 'JNI Global'"}
{"instruction": "Find Java Static GC roots", "input": "", "output": "select r from heap.roots() r where r.type == 'Java Static'"}
{"instruction": "Find Thread GC roots", "input": "", "output": "select r from heap.roots() r where /Thread/.test(r.type)"}
{"instruction": "Get root description", "input": "", "output": "select {id: r.id, type: r.type, description: r.description} from heap.roots() r"}
{"instruction": "Find root referrer object", "input": "", "output": "select {root: r, referrer: r.referrer} from heap.roots() r where r.referrer != null"}
{"instruction": "Check if object is GC root", "input": "", "output": "select root(s) from java.lang.String s where root(s) != null"}
{"instruction": "Find live paths keeping object alive", "input": "", "output": "select heap.livepaths(s) from java.lang.String s where s.value.length > 1000"}
{"instruction": "Find live paths without weak references", "input": "", "output": "select heap.livepaths(s, false) from java.lang.String s"}
{"instruction": "Find live paths for specific object by ID", "input": "", "output": "select heap.livepaths(heap.findObject('0xf3800b58'))"}
{"instruction": "Count live paths for each object", "input": "", "output": "select {obj: s, pathCount: heap.livepaths(s).length} from java.lang.String s"}
{"instruction": "Find objects with multiple live paths", "input": "", "output": "select s from java.lang.String s where heap.livepaths(s).length > 1"}
{"instruction": "Find all finalizable objects", "input": "", "output": "select f from heap.finalizables() f"}
{"instruction": "Count finalizable objects by class", "input": "", "output": "select {className: classof(f).name, count: 1} from heap.finalizables() f"}
{"instruction": "Find finalizable objects with large retained size", "input": "", "output": "select f from heap.finalizables() f where rsizeof(f) > 1048576"}
{"instruction": "Get allocation trace for object", "input": "", "output": "select allocTrace(s) from java.lang.String s"}
{"instruction": "Get allocation trace with object details", "input": "", "output": "select {obj: s, trace: allocTrace(s)} from java.lang.String s where allocTrace(s) != null"}
{"instruction": "Find objects allocated in specific class", "input": "", "output": "select s from java.lang.String s where allocTrace(s) != null && allocTrace(s)[0].className == 'com.example.MyClass'"}
{"instruction": "Find objects allocated in specific method", "input": "", "output": "select s from java.lang.String s where allocTrace(s) != null && allocTrace(s)[0].methodName == 'createString'"}
{"instruction": "Get allocation source file and line number", "input": "", "output": "select {obj: s, file: allocTrace(s)[0].sourceFileName, line: allocTrace(s)[0].lineNumber} from java.lang.String s where allocTrace(s) != null"}
{"instruction": "Get all subclasses of a class", "input": "", "output": "select heap.findClass('java.io.InputStream').subclasses()"}
{"instruction": "Get all superclasses of a class", "input": "", "output": "select heap.findClass('java.io.BufferedInputStream').superclasses()"}
{"instruction": "Check if class is subclass of another", "input": "", "output": "select c from heap.classes() c where c.isSubclassOf(heap.findClass('java.util.Collection'))"}
{"instruction": "Check if class is superclass of another", "input": "", "output": "select c from heap.classes() c where c.isSuperclassOf(heap.findClass('java.util.ArrayList'))"}
{"instruction": "Get class fields information", "input": "", "output": "select {name: c.name, fields: c.fields, fieldCount: c.fields.length} from heap.classes() c"}
{"instruction": "Get class static fields", "input": "", "output": "select heap.findClass('java.lang.System').statics"}
{"instruction": "Get class loader for each class", "input": "", "output": "select {className: c.name, loader: c.loader} from heap.classes() c"}
{"instruction": "Get class protection domain", "input": "", "output": "select {className: c.name, domain: c.protectionDomain} from heap.classes() c where c.protectionDomain != null"}
{"instruction": "Get class signers", "input": "", "output": "select {className: c.name, signers: c.signers} from heap.classes() c where c.signers != null"}
{"instruction": "Find classes loaded by specific loader", "input": "", "output": "select c from heap.classes() c where c.loader != null && classof(c.loader).name == 'java.net.URLClassLoader'"}
{"instruction": "Use forEachReferrer to count references", "input": "", "output": "var count = 0; forEachReferrer(function(ref) { count++; }, heap.findObject('0xf3800b58')); count"}
{"instruction": "Use forEachReferrer to collect referrer types", "input": "", "output": "var types = []; forEachReferrer(function(ref) { types.push(classof(ref).name); }, targetObject); unique(types)"}
{"instruction": "Complex JavaScript with variable declarations", "input": "", "output": "var strings = heap.objects('java.lang.String'); var filtered = filter(strings, 'it.value.length > 100'); var count = length(filtered); count"}
{"instruction": "JavaScript for loop over heap objects", "input": "", "output": "var arr = toArray(heap.objects('java.lang.String')); for(var i = 0; i < arr.length; i++) { if (arr[i].value.length > 100) print(arr[i]); }"}
{"instruction": "JavaScript while loop for object navigation", "input": "", "output": "var node = heap.findObject('0xf3800b58'); var count = 0; while (node != null && node.next != null) { count++; node = node.next; } count"}
{"instruction": "JavaScript conditional logic", "input": "", "output": "var obj = heap.findObject('0xf3800b58'); if (obj != null) { if (sizeof(obj) > 1000) print('Large'); else print('Small'); }"}
{"instruction": "JavaScript function definition and usage", "input": "", "output": "function isLarge(s) { return s.value.length > 1000; } var strings = heap.objects('java.lang.String'); filter(strings, isLarge)"}
{"instruction": "JavaScript array manipulation", "input": "", "output": "var result = []; heap.forEachObject(function(s) { if (s.value.length > 100) result.push({size: s.value.length, obj: s}); }, 'java.lang.String'); result"}
{"instruction": "JavaScript object creation and manipulation", "input": "", "output": "var stats = {total: 0, large: 0}; heap.forEachObject(function(s) { stats.total++; if (s.value.length > 100) stats.large++; }, 'java.lang.String'); stats"}
{"instruction": "Find objects with many referrers (memory leak pattern)", "input": "", "output": "select {obj: o, refCount: count(referrers(o))} from java.lang.Object o where count(referrers(o)) > 100"}
{"instruction": "Find duplicate Strings", "input": "", "output": "select count(heap.objects('java.lang.String')) - count(unique(map(heap.objects('java.lang.String'), 'it.value')))"}
{"instruction": "Find String duplicates with details", "input": "", "output": "select {value: it.value.toString(), count: count(filter(heap.objects('java.lang.String'), 'identical(it.value, ' + objectid(it.value) + ')'))} from java.lang.String it"}
{"instruction": "Find ThreadLocal memory leaks", "input": "", "output": "select t from java.lang.Thread t where t.threadLocals != null && t.threadLocals.table != null"}
{"instruction": "Analyze ThreadLocal table size", "input": "", "output": "select {thread: t.name.toString(), tableSize: t.threadLocals.table.length} from java.lang.Thread t where t.threadLocals != null"}
{"instruction": "Find ClassLoader with excessive classes", "input": "", "output": "select {loader: cl, classCount: cl.classes.elementCount} from java.lang.ClassLoader cl where cl.classes.elementCount > 5000"}
{"instruction": "Detect connection pool exhaustion", "input": "", "output": "select c from instanceof java.sql.Connection c where c.closed == false"}
{"instruction": "Find unclosed JDBC Statements", "input": "", "output": "select s from instanceof java.sql.Statement s where s.closed == false"}
{"instruction": "Find unclosed JDBC ResultSets", "input": "", "output": "select r from instanceof java.sql.ResultSet r where r.closed == false"}
{"instruction": "Find large collections indicating memory issues", "input": "", "output": "select {obj: c, size: c.size, retained: rsizeof(c)} from instanceof java.util.Collection c where c.size > 50000"}
{"instruction": "Find HashMap with high collision rate", "input": "", "output": "select h from java.util.HashMap h where h.size > 0 && h.table.length / h.size < 0.5"}
{"instruction": "Find empty collections wasting memory", "input": "", "output": "select c from instanceof java.util.Collection c where c.size == 0 && sizeof(c) > 100"}
{"instruction": "Detect session leaks in web applications", "input": "", "output": "select s from instanceof javax.servlet.http.HttpSession s"}
{"instruction": "Find objects with circular references", "input": "", "output": "select o from java.lang.Object o where contains(referees(o), 'identical(it, o)')"}
{"instruction": "Find retained size dominated objects", "input": "", "output": "select {obj: o, size: rsizeof(o)} from java.lang.Object o where rsizeof(o) > sizeof(o) * 100"}
{"instruction": "Access first element of char array", "input": "", "output": "select s from java.lang.String s where s.value != null && s.value.length > 0 && s.value[0] == 'h'"}
{"instruction": "Access specific index in array", "input": "", "output": "select a from int[] a where a.length > 10 && a[5] > 1000"}
{"instruction": "Access multi-dimensional array element", "input": "", "output": "select a from java.lang.Object[][] a where a.length > 0 && a[0] != null && a[0][0] != null"}
{"instruction": "Iterate over array elements", "input": "", "output": "select map(heap.objects('int[]'), function(a) { var sum = 0; for(var i = 0; i < a.length; i++) sum += a[i]; return sum; })"}
{"instruction": "Find arrays with specific element value", "input": "", "output": "select a from int[] a where a.length > 0 && a[0] == 42"}
{"instruction": "Match email pattern with regex", "input": "", "output": "select s from java.lang.String s where /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(s.toString())"}
{"instruction": "Match phone number pattern", "input": "", "output": "select s from java.lang.String s where /^\\d{3}-\\d{3}-\\d{4}$/.test(s.toString())"}
{"instruction": "Match URL pattern", "input": "", "output": "select s from java.lang.String s where /^https?:\\/\\/.+/.test(s.toString())"}
{"instruction": "Match IP address pattern", "input": "", "output": "select s from java.lang.String s where /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/.test(s.toString())"}
{"instruction": "Match UUID pattern", "input": "", "output": "select s from java.lang.String s where /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(s.toString())"}
{"instruction": "Match date pattern YYYY-MM-DD", "input": "", "output": "select s from java.lang.String s where /^\\d{4}-\\d{2}-\\d{2}$/.test(s.toString())"}
{"instruction": "Match JSON object pattern", "input": "", "output": "select s from java.lang.String s where /^\\{.*\\}$/.test(s.toString())"}
{"instruction": "Match XML tag pattern", "input": "", "output": "select s from java.lang.String s where /<[^>]+>/.test(s.toString())"}
{"instruction": "Use toHtml for bold output", "input": "", "output": "select '<b>' + toHtml(s) + '</b>' from java.lang.String s where s.value.length > 100"}
{"instruction": "Use toHtml with custom HTML formatting", "input": "", "output": "select '<div style=\"color:red\">' + toHtml(s) + '</div>' from java.lang.String s"}
{"instruction": "Use toHtml in map function", "input": "", "output": "select map(heap.objects('java.lang.String'), 'toHtml(it) + \"<br>\"')"}
{"instruction": "Combine toHtml with object properties", "input": "", "output": "select 'Size: ' + sizeof(s) + ' bytes - ' + toHtml(s) from java.lang.String s"}
{"instruction": "Use toHtml for hyperlink creation", "input": "", "output": "select '<a href=\"#\">' + toHtml(s) + '</a>' from java.lang.String s"}
{"instruction": "Filter null values with explicit check", "input": "", "output": "select s from java.lang.String s where s.value != null"}
{"instruction": "Handle null in ternary operator", "input": "", "output": "select {name: t.name ? t.name.toString() : 'null', daemon: t.daemon} from java.lang.Thread t"}
{"instruction": "Filter array with null check", "input": "", "output": "select filter(heap.findClass('java.util.Hashtable').statics.table, 'it != null')"}
{"instruction": "Handle null in object navigation", "input": "", "output": "select cl from java.lang.ClassLoader cl where cl.parent != null"}
{"instruction": "Null-safe field access", "input": "", "output": "select t from java.lang.Thread t where t.threadLocals != null && t.threadLocals.table != null"}
{"instruction": "Check for null before method call", "input": "", "output": "select s from java.lang.String s where s.value != null && s.value.length > 0"}
{"instruction": "Handle null in map function", "input": "", "output": "select map(heap.objects('java.lang.String'), function(s) { return s.value ? s.value.length : 0; })"}
{"instruction": "Filter out null objects", "input": "", "output": "select filter(heap.objects('java.lang.Object'), 'it != null')"}
{"instruction": "Check object identity with identical()", "input": "", "output": "select identical(heap.findClass('java.lang.System').statics.out, heap.findClass('java.lang.System').statics.err)"}
{"instruction": "Compare two static fields for identity", "input": "", "output": "select identical(heap.findClass('Foo').statics.instance, heap.findClass('Bar').statics.instance)"}
{"instruction": "Find duplicate object references", "input": "", "output": "select o1 from java.lang.Object o1 where contains(heap.objects('java.lang.Object'), 'identical(it, o1) && !identical(it, it)')"}
{"instruction": "Use identical to deduplicate", "input": "", "output": "select filter(heap.objects('java.lang.String'), function(s, index, arr) { for(var i = 0; i < index; i++) if(identical(s, arr[i])) return false; return true; })"}
{"instruction": "Check if object refers to another with refers()", "input": "", "output": "select refers(o1, o2) from java.lang.Object o1"}
{"instruction": "Find objects referring to specific target", "input": "", "output": "select o from java.lang.Object o where refers(o, heap.findObject('0xf3800b58'))"}
{"instruction": "Check circular reference with refers()", "input": "", "output": "select o from java.lang.Object o where refers(o, o)"}
{"instruction": "Find objects by class object ID", "input": "", "output": "select o from instanceof 0xd404b198 o"}
{"instruction": "Query specific class by object ID", "input": "", "output": "select count(heap.objects('0xd404b198'))"}
{"instruction": "Find instances of class with specific ID", "input": "", "output": "select o from java.lang.Object o where identical(classof(o), heap.findObject('0xd404b198'))"}
{"instruction": "Find all java.time.LocalDateTime instances", "input": "", "output": "select dt from java.time.LocalDateTime dt"}
{"instruction": "Find all java.time.ZonedDateTime instances", "input": "", "output": "select zdt from java.time.ZonedDateTime zdt"}
{"instruction": "Find all java.time.Duration instances", "input": "", "output": "select d from java.time.Duration d"}
{"instruction": "Find all java.time.Instant instances", "input": "", "output": "select i from java.time.Instant i"}
{"instruction": "Find all java.util.Optional instances", "input": "", "output": "select opt from java.util.Optional opt"}
{"instruction": "Find non-empty Optional instances", "input": "", "output": "select opt from java.util.Optional opt where opt.value != null"}
{"instruction": "Find all Enum instances", "input": "", "output": "select e from instanceof java.lang.Enum e"}
{"instruction": "Find all ConcurrentHashMap instances", "input": "", "output": "select chm from java.util.concurrent.ConcurrentHashMap chm"}
{"instruction": "Find all ReentrantReadWriteLock instances", "input": "", "output": "select lock from java.util.concurrent.locks.ReentrantReadWriteLock lock"}
{"instruction": "Find all CountDownLatch instances", "input": "", "output": "select latch from java.util.concurrent.CountDownLatch latch"}
{"instruction": "Find all Semaphore instances", "input": "", "output": "select sem from java.util.concurrent.Semaphore sem"}
{"instruction": "Find all ArrayBlockingQueue instances", "input": "", "output": "select q from java.util.concurrent.ArrayBlockingQueue q"}
{"instruction": "Find all LinkedBlockingQueue instances", "input": "", "output": "select q from java.util.concurrent.LinkedBlockingQueue q"}
{"instruction": "Find all ForkJoinPool instances", "input": "", "output": "select pool from java.util.concurrent.ForkJoinPool pool"}
{"instruction": "Find all ScheduledThreadPoolExecutor instances", "input": "", "output": "select exec from java.util.concurrent.ScheduledThreadPoolExecutor exec"}
{"instruction": "Find shortest path to GC root", "input": "", "output": "select map(heap.livepaths(s), function(path) { return path.length; }) from java.lang.String s"}
{"instruction": "Analyze reference chain length", "input": "", "output": "select {obj: s, pathLengths: map(heap.livepaths(s), 'it.length')} from java.lang.String s where heap.livepaths(s).length > 0"}
{"instruction": "Find objects with deep reference chains", "input": "", "output": "select s from java.lang.String s where heap.livepaths(s).length > 0 && heap.livepaths(s)[0].length > 10"}
{"instruction": "Calculate total heap size by class", "input": "", "output": "select {className: classof(o).name, totalSize: sum(heap.objects(classof(o).name), 'sizeof(it)')} from java.lang.Object o"}
{"instruction": "Find class histogram with retained sizes", "input": "", "output": "select {className: c.name, instanceCount: count(heap.objects(c.name)), totalRetained: sum(heap.objects(c.name), 'rsizeof(it)')} from heap.classes() c"}
{"instruction": "Memory distribution by ClassLoader", "input": "", "output": "select {loader: cl, memory: sum(map(cl.classes.elements, function(c) { return sum(heap.objects(c.name), 'sizeof(it)'); }))} from java.lang.ClassLoader cl"}
{"instruction": "Find top memory consumers", "input": "", "output": "select top(map(heap.classes(), '{name: it.name, size: sum(heap.objects(it.name), \"sizeof(it)\")}'), 'rhs.size - lhs.size', 20)"}
{"instruction": "Compare shallow vs retained size", "input": "", "output": "select {obj: o, shallow: sizeof(o), retained: rsizeof(o), ratio: rsizeof(o) / sizeof(o)} from java.lang.Object o where sizeof(o) > 0"}
{"instruction": "Find objects with high retention ratio", "input": "", "output": "select o from java.lang.Object o where sizeof(o) > 0 && rsizeof(o) / sizeof(o) > 100"}
{"instruction": "Analyze collection capacity vs size", "input": "", "output": "select {obj: c, size: c.size, capacity: c.elementData.length, waste: c.elementData.length - c.size} from java.util.ArrayList c where c.elementData != null"}
{"instruction": "Find over-allocated arrays", "input": "", "output": "select c from java.util.ArrayList c where c.elementData != null && c.size > 0 && (c.elementData.length - c.size) > c.size"}
{"instruction": "Detect String deduplication opportunities", "input": "", "output": "var allStrings = toArray(heap.objects('java.lang.String')); var unique = toArray(unique(map(allStrings, 'it.value'))); allStrings.length - unique.length"}
{"instruction": "Find interned vs non-interned Strings", "input": "", "output": "select {obj: s, interned: contains(heap.findClass('java.lang.String').statics.stringPool, 'identical(it, s)')} from java.lang.String s"}
{"instruction": "Calculate wasted memory in collections", "input": "", "output": "select sum(map(filter(heap.objects('java.util.ArrayList'), 'it.elementData != null && it.size < it.elementData.length'), 'sizeof(it.elementData) - (it.size * 4)'))"}
